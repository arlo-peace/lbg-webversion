(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-image-city"],{"75c8":function(t,i,e){"use strict";e.r(i);var n=e("ec82"),c=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=c.a},"8c6c":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".city-list[data-v-265af146]{width:100%;display:flex;flex-direction:column}.city-group[data-v-265af146]{margin-top:%?10?%;display:flex;flex-direction:column;color:#fff}.city-group.notop[data-v-265af146]{margin-top:0}.city-group-name[data-v-265af146]{background-color:#3b3b3b;height:%?70?%;line-height:%?46?%;font-size:15px;padding:%?10?% %?30?%;box-sizing:border-box}.cities[data-v-265af146]{width:100%;display:flex;padding:%?30?% %?20?% %?10?%;box-sizing:border-box;flex-direction:row;flex-wrap:wrap;padding-bottom:0}.city[data-v-265af146]{width:25%;height:%?80?%;display:flex;align-items:center;justify-content:center;padding:0 %?10?%;box-sizing:border-box;margin-bottom:%?20?%}.city uni-text[data-v-265af146]{width:100%;height:%?80?%;background-color:#3b3b3b;border-radius:%?14?%;display:flex;align-items:center;justify-content:center}.cities-list[data-v-265af146]{width:100%;display:flex;box-sizing:border-box;flex-direction:column;padding-bottom:0}.city-item[data-v-265af146]{width:100%;height:%?80?%;padding:%?10?% %?30?%;box-sizing:border-box;border-bottom:#333 1px solid;display:flex;align-items:center;justify-content:flex-start}.city-item[data-v-265af146]:last-child{border-bottom:0}.city-item[data-v-265af146]:active{opacity:.75}.city-choose[data-v-265af146]{position:fixed;right:%?20?%;top:50%;margin-top:-30%;color:#d9d9ef;display:flex;align-items:center;justify-content:center;flex-direction:column}.city-choose-item[data-v-265af146]{font-size:14px;height:%?60?%}",""]),t.exports=i},a12c:function(t,i,e){var n=e("8c6c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var c=e("4f06").default;c("16c89e82",n,!0,{sourceMap:!1,shadowMode:!1})},b2ac:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return c})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"city-list"},[e("v-uni-view",{staticClass:"city-group",attrs:{id:"city_current"}},[e("v-uni-text",{staticClass:"city-group-name"},[t._v("当前")]),e("v-uni-view",{staticClass:"cities"},[e("v-uni-view",{staticClass:"city",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickCity(t.city)}}},[e("v-uni-text",[t._v(t._s(t.city))])],1)],1)],1),e("v-uni-view",{staticClass:"city-group",attrs:{id:"city_hot"}},[e("v-uni-text",{staticClass:"city-group-name"},[t._v("热门")]),e("v-uni-view",{staticClass:"cities"},[e("v-uni-view",{staticClass:"city",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickCity("全国")}}},[e("v-uni-text",[t._v("全国")])],1),t._l(t.hotCities,(function(i,n){return e("v-uni-view",{key:n,staticClass:"city",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickCity(i.name)}}},[e("v-uni-text",[t._v(t._s(i.name))])],1)}))],2)],1),t._l(t.groups,(function(i,n){return e("v-uni-view",{key:n,staticClass:"city-group",class:{notop:n>0},attrs:{id:"city_"+i.name}},[e("v-uni-text",{staticClass:"city-group-name"},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"cities-list"},t._l(i.children,(function(i,n){return e("v-uni-view",{key:n,staticClass:"city-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickCity(i.name)}}},[e("v-uni-text",[t._v(t._s(i.name))])],1)})),1)],1)})),e("v-uni-view",{staticClass:"city-choose"},[e("v-uni-view",{staticClass:"city-choose-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.scrollTo("current")}}},[e("v-uni-text",[t._v("当前")])],1),e("v-uni-view",{staticClass:"city-choose-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.scrollTo("hot")}}},[e("v-uni-text",[t._v("热门")])],1),t._l(t.groups,(function(i,n){return e("v-uni-view",{key:n,staticClass:"city-choose-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollTo(i.name)}}},[e("v-uni-text",[t._v(t._s(i.name))])],1)}))],2)],2)},c=[]},e450:function(t,i,e){"use strict";var n=e("a12c"),c=e.n(n);c.a},ec82:function(t,i,e){"use strict";e("7a82");var n=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("fb6a"),e("4e82"),e("d3b7"),e("159b"),e("14d9");var c=n(e("79ec")),a={data:function(){return{cities:[],city:"全国"}},computed:{hotCities:function(){return this.cities.sort((function(t,i){return t.count<i.count?1:-1})).slice(0,7)},groups:function(){var t={};this.cities.forEach((function(i){t[i.group]?(t[i.group].count++,t[i.group].children.push(i)):t[i.group]={name:i.group,count:1,children:[i]}}));var i=[];for(var e in t)i.push(t[e]);return i.sort((function(t,i){return t.name>i.name?1:-1}))}},onLoad:function(t){this.city=t.city&&t.city.length>0?t.city:"全国",this.getCity()},methods:{scrollTo:function(t){uni.pageScrollTo({selector:"#city_".concat(t),duration:300})},clickCity:function(t){uni.setStorageSync("image_city_"+c.default.appkey,t),setTimeout((function(){uni.navigateBack()}),300)},getCity:function(){var t=this;uni.request({url:c.default.apiData.getAtlasCity,method:"GET",success:function(i){var e=i.data;200==e.Code?(t.cities=e.Data,console.log(t.cities.sort((function(t,i){return t.count>i.count?1:-1})))):c.default.showToast(e.Msg,2e3)},fail:function(){c.default.showToast("服务器连接失败，请检查网络是否正常",3e3)}})}}};i.default=a},fc58:function(t,i,e){"use strict";e.r(i);var n=e("b2ac"),c=e("75c8");for(var a in c)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return c[t]}))}(a);e("e450");var o=e("f0c5"),s=Object(o["a"])(c["default"],n["b"],n["c"],!1,null,"265af146",null,!1,n["a"],void 0);i["default"]=s.exports}}]);