(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-transfer"],{3382:function(e,t,n){"use strict";n("7a82");var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac1f");var i,a=o(n("79ec")),s={data:function(){return{contentHeight:250,userInfo:{money:0,ratio:"*",minimum:"*"},type:"money",userId:0,money:0}},onLoad:function(e){i=this,i._showLoading("加载中...");var t=a.default.getLogins();!1===t?i.skipUrl():(i.userId=t.userId,i.getUserInfo(),e.type&&(i.type=e.type)),uni.setNavigationBarTitle({title:"money"==i.type?"余额转换到金币":"金币转换到余额"})},mounted:function(){var e=uni.getSystemInfoSync(),t=uni.createSelectorQuery().in(this);t.select("#toTop").boundingClientRect((function(t){i.contentHeight=e.windowHeight-t.top})).exec()},methods:{inputAll:function(){"money"==i.type&&(i.money=i.userInfo.money),"corn"==i.type&&(i.money=i.userInfo.corn)},getUserInfo:function(){uni.request({url:a.default.apiData.myBalance+"/userId/"+i.userId,method:"GET",header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){i.userInfo=e.data.Data,i._hideLoading()},fail:function(){i.msgData("服务器连接失败，请检查网络是否正常",5e3)}})},submitMoy:function(){return 0==i.money?(i.msgData("请输入提现金额",2e3),!1):"money"==i.type&&i.money>i.userInfo.money?(i.msgData("当账户余额不足",2e3),!1):"corn"==i.type&&i.money>i.userInfo.corn?(i.msgData("当账户金币不足",2e3),!1):(i._showLoading("处理中..."),void uni.request({url:a.default.apiData.transferMoney,method:"POST",data:{userId:i.userId,type:i.type,money:i.money},header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){var t=e.data;i.msgData(t.Msg,2e3),200==t.Code&&i.getUserInfo()},fail:function(){i.msgData("服务器连接失败，请检查网络是否正常",5e3)}}))},onKeyInput:function(e){var t=e.detail.value;i.money=t},skipUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/login/login",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;1==t?uni.reLaunch({url:e}):uni.navigateTo({url:e})},msgData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";i._hideLoading(),setTimeout((function(){uni.showToast({icon:n,title:e,mask:!0,duration:t})}),200)}},onPullDownRefresh:function(){i.getUserInfo(),uni.stopPullDownRefresh()}};t.default=s},"4c7b":function(e,t,n){var o=n("d287");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("2e6c36cc",o,!0,{sourceMap:!1,shadowMode:!1})},"80a2":function(e,t,n){"use strict";n.r(t);var o=n("3382"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},8195:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"bg"},[o("v-uni-view",{staticClass:"head-bg"}),o("v-uni-view",{staticClass:"head-cono"},[o("v-uni-view",{staticClass:"head-cont"},[o("v-uni-view",{staticClass:"head-cont-wz"},[e._v("当前账户"+e._s("money"==e.type?"金币":"余额"))]),o("v-uni-view",{staticClass:"head-cont-money"},[e._v(e._s("money"==e.type?e.userInfo.corn:e.userInfo.money))]),o("v-uni-view",{staticClass:"head-cont-wz"},[e._v("可转换"+e._s("money"==e.type?"余额":"金币"))]),o("v-uni-view",{staticClass:"head-cont-money"},[e._v(e._s("money"==e.type?e.userInfo.money:e.userInfo.corn))]),o("v-uni-view",{staticClass:"head-cont-desc"},[e._v("温馨提示："),o("v-uni-view",{staticClass:"toTopPad"},[e._v("1、"+e._s(e.userInfo.ratio)+"余额=1金币，最低转账数1"+e._s("money"==e.type?"金币":"余额")+"。")]),o("v-uni-view",[e._v("2、转账数量必须是正整数。")]),o("v-uni-view",[e._v("3、转账数量不能大于可转账余额。")])],1)],1)],1),o("v-uni-image",{staticClass:"content-img",attrs:{src:n("9e1a"),mode:"aspectFill"}}),o("v-uni-view",{staticClass:"content",style:{height:e.contentHeight+"px"},attrs:{id:"toTop"}},[o("v-uni-view",{staticClass:"money"},[o("v-uni-input",{staticClass:"input",class:{disabled:"money"==e.type&&e.userInfo.money<=0||"corn"==e.type&&e.userInfo.corn<=0},attrs:{type:"number",disabled:"money"==e.type&&e.userInfo.money<=0||"corn"==e.type&&e.userInfo.corn<=0,placeholder:"请输入转换数量",value:e.money>0?e.money:"","placeholder-style":"color:#ffffff;"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.onKeyInput.apply(void 0,arguments)}}}),"money"==e.type&&e.userInfo.money>0||"corn"==e.type&&e.userInfo.corn>0?o("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.inputAll.apply(void 0,arguments)}}},[e._v("全部")]):e._e()],1),o("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitMoy.apply(void 0,arguments)}}},[e._v("转换到金币")])],1),o("css-loading",{ref:"cssLoading"})],1)},i=[]},"9e1a":function(e,t,n){e.exports=n.p+"static/img/ti_1.fc501238.png"},c3b2:function(e,t,n){"use strict";n.r(t);var o=n("8195"),i=n("80a2");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("e7cf");var s=n("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"0729869f",null,!1,o["a"],void 0);t["default"]=r.exports},d287:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".color[data-v-0729869f]{color:#e14351}.toTopPad[data-v-0729869f]{margin-top:5px}.head-cont-desc[data-v-0729869f]{width:82%;text-align:left;padding:5px 4%;border:1px solid #e2e2e2;margin:20px auto 0;border-radius:5px;font-size:12px}.head-cont-desc uni-view[data-v-0729869f]{font-size:12px}.money[data-v-0729869f]{height:30px;line-height:30px;margin:0 auto 15px;box-sizing:border-box;width:50%;border-bottom:1px solid #ccc;position:relative}.money .input[data-v-0729869f]{line-height:30px;height:30px}.disabled[data-v-0729869f]{background:#ccc!important}.money uni-text[data-v-0729869f]{position:absolute;right:0;top:0;font-size:12px;color:#e1e1e1}.head-cont-wz[data-v-0729869f]{padding:30px 0 10px}.head-cont-money[data-v-0729869f]{font-size:38px;color:#ff5e63;font-weight:700}.head-cont-bank[data-v-0729869f]{padding:10px 0}.head-cont-bankList[data-v-0729869f]{border-radius:5px;border:1px solid #e2e2e2;width:90%;margin:auto;font-size:15px;line-height:30px}.bg[data-v-0729869f]{background:#e14351}.head-bg[data-v-0729869f]{background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,100%,.3)),to(#ff6f33));height:300px;-webkit-clip-path:polygon(0 0,0 100%,1% 99%,3% 98%,5% 97%,7% 96%,9% 95%,91% 95%,93% 96%,95% 97%,97% 98%,99% 99%,100% 100%,100% 0);clip-path:polygon(0 0,0 100%,1% 99%,3% 98%,5% 97%,7% 96%,9% 95%,91% 95%,93% 96%,95% 97%,97% 98%,99% 99%,100% 100%,100% 0);z-index:9;position:relative}.head-cono[data-v-0729869f]{margin:-250px auto;width:70%;height:420px;background:#fff;z-index:10;position:relative;border-radius:10px;box-shadow:0 4px 6px 0 hsla(0,0%,40.4%,.2);padding:5%}.head-cont[data-v-0729869f]{width:100%;height:100%;z-index:10;position:relative;border-radius:10px;border:1px solid #ccc;text-align:center;color:#555;font-size:20px}.content-img[data-v-0729869f]{position:relative;width:100%;z-index:11;height:160px;top:80px}.content[data-v-0729869f]{width:100%;height:233px;background:#ff5e63;position:relative;z-index:11;top:70px;text-align:center;color:#fff\n\t/*clip-path: polygon(0% 0%,0% 100%,100% 100%,100% 0%,99% 1%,98.5% 1.5%,98% 2%,97.5% 2.5%); */}.content uni-view.btn[data-v-0729869f]{width:70%;background:#eeff37;margin:0 auto 15px;color:#666;padding:10px 0;border-radius:5px;box-shadow:0 4px 6px 0 rgba(0,0,0,.5);background:-webkit-gradient(linear,left top,right top,from(#fff),to(#ef8))}",""]),e.exports=t},e7cf:function(e,t,n){"use strict";var o=n("4c7b"),i=n.n(o);i.a}}]);