(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-collect"],{6641:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"head-top",style:{top:e.top-e.h5H+"px"}},[a("v-uni-view",{staticClass:"head-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.backUrl.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:"/static/imgs/back.png",mode:"aspectFill"}})],1),a("v-uni-text",{staticStyle:{flex:"1"}},[e._v(e._s(2==e.tabSet?"长":"短")+"视频收藏")]),a("v-uni-view",{staticClass:"head-left"})],1),a("v-uni-view",{staticClass:"tab-head",style:{"padding-top":e.top+"px"}},[a("v-uni-view",{staticClass:"tab-head-item",class:{active:1==e.tabSet},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setTab(1)}}},[e._v("短视频")]),a("v-uni-view",{staticClass:"tab-head-item",class:{active:2==e.tabSet},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setTab(2)}}},[e._v("长视频")])],1),a("v-uni-view",{staticClass:"content-head",attrs:{id:"toHeadLine"}},[a("v-uni-view",{class:1==e.typeSet?"ok":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setClass(1)}}},[e._v("全部")]),a("v-uni-view",{class:2==e.typeSet?"ok":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setClass(2)}}},[e._v("免费")]),a("v-uni-view",{class:3==e.typeSet?"ok":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setClass(3)}}},[e._v("收费")])],1),2!=e.tabSet||e.isShowTig?e._e():a("v-uni-view",{staticClass:"listbox"},e._l(e.collectList,(function(t,o){return a("v-uni-view",{key:o,staticClass:"video"},[a("v-uni-view",{staticClass:"videoimg",style:{background:"url("+e.bg+")"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.playVideo(t.id)}}},[a("v-uni-image",{attrs:{src:t.cover,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"video-title"},[e._v(e._s(t.title))]),a("v-uni-view",{staticClass:"video-bot"},[a("v-uni-view",{staticClass:"video-gold"},[a("v-uni-image",{staticClass:"gold",attrs:{src:i("bf6b"),mode:"aspectFill"}}),e._v(e._s(t.gold))],1),a("v-uni-image",{staticClass:"dels",attrs:{src:i("808b"),mode:"aspectFill"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.delCollect(t.collect_id)}}})],1)],1)})),1),1!=e.tabSet||e.isShowTig?e._e():a("v-uni-view",{staticClass:"listbox"},e._l(e.collectList,(function(t,o){return a("v-uni-view",{key:o,staticClass:"video"},[a("v-uni-view",{staticClass:"shortvideoimg",style:{background:"url("+e.bg+")"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.api.jumpUrl("/pages/svod/player?info="+JSON.stringify(t),"new")}}},[a("v-uni-image",{attrs:{src:t.cover,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"video-title"},[e._v(e._s(t.title))]),a("v-uni-view",{staticClass:"video-bot"},[a("v-uni-view",{staticClass:"video-gold"},[a("v-uni-image",{staticClass:"gold",attrs:{src:i("bf6b"),mode:"aspectFill"}}),e._v(e._s(t.gold))],1),a("v-uni-image",{staticClass:"dels",attrs:{src:i("808b"),mode:"aspectFill"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.delCollect(t.collect_id)}}})],1)],1)})),1),e.isShowTig?a("v-uni-view",{staticClass:"listbox",staticStyle:{"align-items":"center","justify-content":"center","flex-direction":"column",display:"flex"}},[a("v-uni-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"/static/empty.png"}}),a("v-uni-view",{staticStyle:{"font-size":"25upx",color:"#999","margin-top":"30upx"}},[e._v("当前页面暂无内容")])],1):e._e(),a("css-loading",{ref:"cssLoading"})],1)},o=[]},"7d51":function(e,t,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("e9c4");var o,n=a(i("79ec")),l={data:function(){return{bg:"",top:27,userId:0,collectList:{},isShowTig:!1,type:0,typeSet:1,tabSet:1,h5H:43,api:n.default}},onLoad:function(){o=this;var e=uni.getSystemInfoSync();o.top=e.statusBarHeight+53;var t=n.default.getLogins();!1===t?(o._showLoading("加载中..."),o.skipUrl()):(o.userId=t.userId,o.getCollect())},methods:{backUrl:function(){n.default.jumpUrl("/pages/member/member","tab")},setClass:function(e){o.typeSet=e,o.getCollect()},setTab:function(e){o.tabSet=e,o.getCollect()},getCollect:function(){o._showLoading("加载中..."),uni.request({url:n.default.apiData.getColl+"/userId/"+o.userId+"/type/"+o.typeSet+"/tab/"+o.tabSet,method:"GET",header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){o.collectList=e.data.Data,o.collectList.length?o.isShowTig=!1:o.isShowTig=!0},fail:function(){o.back("服务器连接失败，请检查网络是否正常")},complete:function(){o._hideLoading()}})},playVideo:function(e){uni.setStorage({key:"vid",data:e,fail:function(){return n.default.showToast("服务器连接失败，请检查网络是否正常"),!1},complete:function(){n.default.jumpUrl("/pages/video/play?type="+JSON.stringify({url:"/pages/member/collect",t:"new"}),"new")}})},delCollect:function(e){uni.showModal({content:"确认要删除收藏吗？",cancelText:"取消",confirmText:"确定",success:function(t){t.confirm&&o.delCollectVideo(e)}})},delCollectVideo:function(e){o._showLoading("处理中..."),uni.request({url:n.default.apiData.delColl,method:"POST",data:{userId:o.userId,videoId:e,tab:o.tabSet},header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){var t=e.data;if(n.default.showToast(t.Msg),200==t.Code)var i=setTimeout((function(){o.getCollect(),clearTimeout(i)}),300)},fail:function(){n.default.showToast("删除失败，请检查网络是否正常")}})},skipUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/login/login",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"newx";n.default.jumpUrl(e,t)},back:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(0!=e.length){n.default.showToast(e);var t=setTimeout((function(){uni.navigateBack(),clearTimeout(t)}),1500)}}},onBackPress:function(e){return n.default.jumpUrl("/pages/member/member","tab"),!0}};t.default=l},"808b":function(e,t,i){e.exports=i.p+"static/img/del.757f2a82.png"},8371:function(e,t,i){var a=i("8ff4");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("661e8c0a",a,!0,{sourceMap:!1,shadowMode:!1})},"8ff4":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".head-top[data-v-0060e0e7]{width:100%;text-align:center;position:fixed;color:#fff;z-index:21;display:flex;flex-direction:row;padding:0 %?10?%}.head-left uni-image[data-v-0060e0e7]{width:30px;height:30px;margin-top:1px;border-radius:50%;opacity:.6;filter:alpha(opacity=60)}.head-left[data-v-0060e0e7]{width:30px}.video-play-time[data-v-0060e0e7]{position:relative;float:left;margin-top:-25px;background-color:rgba(0,0,0,.5);padding:%?5?% %?10?%;height:%?30?%;line-height:%?30?%;border-radius:0 3px 3px 0;color:#fff;font-size:%?23?%}.video[data-v-0060e0e7]{background:hsla(0,0%,100%,.03);width:45%;display:inline-block;margin-left:3.3%;border-radius:10px;color:#000;font-size:15px;padding:0 0 5px 0;box-shadow:0 4px 6px 0 rgba(0,0,0,.2);margin-bottom:13px;z-index:19;position:relative}.video-title[data-v-0060e0e7]{margin-top:3px;padding:0 6px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:93%;line-height:%?40?%;font-size:14px;color:#fff}.video-gold[data-v-0060e0e7]{\n\t/*margin-left: 2%; */padding:0 %?10?%;height:13px;line-height:13px;border-radius:%?5?%;\n\t/*background: #fff0e2; */color:#ff9030;font-size:13px}.video-bot[data-v-0060e0e7]{padding:0 6px;margin-top:5px;\n\t/*line-height: 12px; */font-size:14px}.video-bot uni-view[data-v-0060e0e7]{display:inline-block}.video-bot uni-image[data-v-0060e0e7]{width:16px;height:16px}.video-bot .gold[data-v-0060e0e7]{float:left;width:15px;height:14px;margin-right:3px}.video-bot .dels[data-v-0060e0e7]{float:right}.videoimg[data-v-0060e0e7]{height:100px}.videoimg uni-image[data-v-0060e0e7]{border-radius:10px 10px 0 0;width:100%;height:100px;background-color:#24292e}.shortvideoimg[data-v-0060e0e7]{height:210px}.shortvideoimg uni-image[data-v-0060e0e7]{border-radius:10px 10px 0 0;width:100%;height:210px;background-color:#24292e}.image[data-v-0060e0e7]{width:100%;height:233px;position:fixed;top:0;left:0}.ok[data-v-0060e0e7]{\n\t/*border-bottom: 2px solid #FFFFFF;  */\n\t/*color: #FF3637; */background-color:rgba(0,0,0,.4);border-radius:%?50?%}.content-head[data-v-0060e0e7]{width:100%;height:30px;line-height:30px;padding:%?10?% 0 %?20?%;margin-top:%?20?%;top:0;text-align:center;color:#fff;z-index:20}.content-head uni-view[data-v-0060e0e7]{display:inline-block;width:23%;height:30px;font-size:13px}.tab-head[data-v-0060e0e7]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;padding:0 20%;box-sizing:border-box}.tab-head-item[data-v-0060e0e7]{background-color:#393939;color:#fff;font-size:14px;height:%?48?%;display:flex;flex-direction:row;align-items:center;justify-content:center;font-weight:700;border:#ff00a2 1px solid;width:50%;box-sizing:border-box}.tab-head-item[data-v-0060e0e7]:first-child{border-top-left-radius:%?25?%;border-bottom-left-radius:%?25?%}.tab-head-item[data-v-0060e0e7]:last-child{border-top-right-radius:%?25?%;border-bottom-right-radius:%?25?%}.tab-head-item.active[data-v-0060e0e7]{background-color:#ff00a2}.content[data-v-0060e0e7]{display:flex;flex-direction:column;width:100%;height:100vh}.listbox[data-v-0060e0e7]{margin-top:%?20?%;flex:1;width:100%;overflow:hidden;overflow-y:auto}",""]),e.exports=t},b6ce:function(e,t,i){"use strict";var a=i("8371"),o=i.n(a);o.a},bf6b:function(e,t,i){e.exports=i.p+"static/img/ico_gold.bfdab5ef.png"},cc36:function(e,t,i){"use strict";i.r(t);var a=i("6641"),o=i("eeca");for(var n in o)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("b6ce");var l=i("f0c5"),s=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,"0060e0e7",null,!1,a["a"],void 0);t["default"]=s.exports},eeca:function(e,t,i){"use strict";i.r(t);var a=i("7d51"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a}}]);