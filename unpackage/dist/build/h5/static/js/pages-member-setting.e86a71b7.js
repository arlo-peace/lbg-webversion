(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-setting"],{"12e2":function(e,t,i){"use strict";i.r(t);var a=i("3f61"),n=i("c41f");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("dfbf");var s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"8f31316a",null,!1,a["a"],void 0);t["default"]=l.exports},1374:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".line[data-v-8f31316a]{height:8px;background-color:#20202c}.content-head[data-v-8f31316a]{\n\t/*position: fixed; */width:100%;height:30px;line-height:30px;\n\t/*top: 27px; */text-align:center;color:#fff;background:rgba(0,0,0,.2);font-size:17px;border-bottom:1px solid rgba(0,0,0,.1)}.input[data-v-8f31316a]{width:96%;padding:5px 2%;border:1px solid #e2e2e2;border-radius:5px;font-size:13px}.pwd[data-v-8f31316a]{margin-bottom:10px}.head-tx uni-view[data-v-8f31316a]{display:inline-block}.head-tx[data-v-8f31316a]{width:90%;height:60px;line-height:60px;color:#fff;margin-top:15px;font-size:%?30?%;margin:auto;border-bottom:%?1?% solid #20202c}.head-img[data-v-8f31316a]{width:80px;height:80px;border-radius:50%;border:1px solid #ff8f00}.head-acc[data-v-8f31316a]{float:right;color:#999}.sms-box[data-v-8f31316a]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-top:%?10?%}.sms-btn[data-v-8f31316a]{width:30%;height:%?64?%;line-height:%?60?%;text-align:center;background-image:linear-gradient(90deg,#da4141,rgba(254,67,101,.8));color:#fff;padding:2px 2%;border-radius:5px;font-size:13px;box-sizing:border-box}.sms-btn.disabled[data-v-8f31316a]{background-image:linear-gradient(90deg,#91868d,rgba(150,143,135,.8))}",""]),e.exports=t},1747:function(e,t,i){"use strict";i.r(t);var a=i("ee9d"),n=i("95dd");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("34a9");var s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"83dae5ee",null,!1,a["a"],void 0);t["default"]=l.exports},"1bce":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.neil-modal[data-v-83dae5ee]{position:fixed;visibility:hidden;width:100%;height:100%;top:0;left:0;z-index:1000;transition:visibility .2s ease-in}.neil-modal.neil-modal--show[data-v-83dae5ee]{visibility:visible}.neil-modal__header[data-v-83dae5ee]{position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:%?18?% %?24?%;line-height:1.5;color:#333;font-size:%?32?%;text-align:center}.neil-modal__header[data-v-83dae5ee]::after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-top:1px solid #e5e5e5;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.neil-modal__container[data-v-83dae5ee]{position:absolute;z-index:999;top:46%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;width:%?540?%;border-radius:%?20?%;background-color:#fff;overflow:hidden;opacity:0;transition:opacity .2s ease-in}.neil-modal__content[data-v-83dae5ee]{position:relative;color:#333;font-size:%?28?%;box-sizing:border-box;line-height:1.5}.neil-modal__content[data-v-83dae5ee]::after{content:" ";position:absolute;left:0;bottom:-1px;right:0;height:1px;border-bottom:1px solid #e5e5e5;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.neil-modal__footer[data-v-83dae5ee]{position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#333;font-size:%?32?%;display:flex;flex-direction:row}.neil-modal__footer-left[data-v-83dae5ee], .neil-modal__footer-right[data-v-83dae5ee]{position:relative;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:%?88?%;font-size:%?28?%;line-height:%?88?%;text-align:center;background-color:#fff;color:#333}.neil-modal__footer-right[data-v-83dae5ee]{color:#007aff}.neil-modal__footer-left[data-v-83dae5ee]::after{content:" ";position:absolute;right:-1px;top:0;width:1px;bottom:0;border-right:1px solid #e5e5e5;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleX(.5);transform:scaleX(.5)}.neil-modal__footer-hover[data-v-83dae5ee]{background-color:#f1f1f1}.neil-modal__mask[data-v-83dae5ee]{display:block;position:absolute;z-index:998;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);opacity:0;transition:opacity .2s ease-in}.neil-modal__mask.neil-modal--show[data-v-83dae5ee]{opacity:1}.neil-modal--padding[data-v-83dae5ee]{padding:%?32?% %?24?%;min-height:%?90?%}.neil-modal--show .neil-modal__container[data-v-83dae5ee], .neil-modal--show .neil-modal__mask[data-v-83dae5ee]{opacity:1}',""]),e.exports=t},"25d6":function(e,t,i){var a=i("1374");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("0a13e1d0",a,!0,{sourceMap:!1,shadowMode:!1})},"34a9":function(e,t,i){"use strict";var a=i("bfc2"),n=i.n(a);n.a},"3f61":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={neilModal:i("1747").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"content-head",style:{padding:e.top+"px 0 10px 0"}},[e._v("编辑资料")]),i("v-uni-progress",{attrs:{percent:e.percent,backgroundColor:"#20202C","strock-width":"10"}}),i("v-uni-view",{staticStyle:{"text-align":"center",margin:"20px 0"}},[i("v-uni-image",{staticClass:"head-img",attrs:{src:e.avatar,mode:"aspectFill"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadTx.apply(void 0,arguments)}}}),i("v-uni-view",{staticStyle:{"font-size":"14px",color:"#fff","margin-top":"10upx"}},[e._v("点击更换头像")])],1),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"head-tx"},[i("v-uni-view",[e._v("账号")]),i("v-uni-view",{staticClass:"head-acc"},[e._v(e._s(e.userInfo.username))])],1),i("v-uni-view",{staticClass:"head-tx"},[i("v-uni-view",[e._v("昵称")]),i("v-uni-view",{staticClass:"head-acc",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editUserInfo(1)}}},[e._v(e._s(e.userInfo.nickname)),i("v-uni-image",{staticStyle:{width:"12px",height:"10px"},attrs:{src:"/static/imgs/r.png"}})],1)],1),i("v-uni-view",{staticClass:"head-tx"},[i("v-uni-view",[e._v("绑定手机")]),e.isTel?i("v-uni-view",{staticClass:"head-acc"},[e._v(e._s(e.userInfo.tel))]):i("v-uni-view",{staticClass:"head-acc",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editUserInfo(2)}}},[e._v("绑定后不可修改"),i("v-uni-image",{staticStyle:{width:"12px",height:"10px"},attrs:{src:"/static/imgs/r.png"}})],1)],1),i("v-uni-view",{staticClass:"head-tx"},[i("v-uni-view",[e._v("登录密码")]),i("v-uni-view",{staticClass:"head-acc",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editUserInfo(3)}}},[e._v("修改登录密码"),i("v-uni-image",{staticStyle:{width:"12px",height:"10px"},attrs:{src:"/static/imgs/r.png"}})],1)],1),i("neil-modal",{attrs:{show:e.isNotice,title:e.title,"confirm-text":"提交数据","cancel-text":"我再想想"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)},close:function(t){arguments[0]=t=e.$handleEvent(t),e.closeNotice.apply(void 0,arguments)}}},[i("v-uni-view",{staticStyle:{"min-height":"90upx",padding:"24upx 30upx 10upx"}},[1==e.type?i("v-uni-view",[i("v-uni-input",{staticClass:"input",attrs:{type:"text",value:e.value,maxlength:"15",placeholder:"请输入用户昵称"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserInfo.apply(void 0,arguments)}}})],1):e._e(),2==e.type?i("v-uni-view",[i("v-uni-input",{staticClass:"input",attrs:{type:"number",value:e.value,maxlength:"11",placeholder:"请输入手机号"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputUserInfo.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"sms-box"},[i("v-uni-input",{staticClass:"input",staticStyle:{width:"63%"},attrs:{type:"number",value:e.sms.code,maxlength:"11",placeholder:"请输入验证码"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputCode.apply(void 0,arguments)}}}),60==e.sms.time?i("v-uni-view",{staticClass:"sms-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getSms.apply(void 0,arguments)}}},[e._v("获取")]):i("v-uni-view",{staticClass:"sms-btn disabled"},[e._v(e._s(e.sms.time))])],1)],1):e._e(),3==e.type?i("v-uni-view",[i("v-uni-input",{staticClass:"input pwd",attrs:{type:"password",value:e.fromData.oldPwd,id:"oldPwd",maxlength:"15",placeholder:"请输入原密码"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputPwd.apply(void 0,arguments)}}}),i("v-uni-input",{staticClass:"input pwd",attrs:{type:"password",value:e.fromData.newPwd,id:"newPwd",maxlength:"15",placeholder:"请输入新密码"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputPwd.apply(void 0,arguments)}}}),i("v-uni-input",{staticClass:"input pwd",attrs:{type:"password",value:e.fromData.rPwd,id:"rPwd",maxlength:"15",placeholder:"再输入一次"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputPwd.apply(void 0,arguments)}}})],1):e._e(),4==e.type?i("v-uni-view",[i("v-uni-radio-group",{staticStyle:{display:"flex","flex-direction":"row","padding-top":"10upx"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},e._l(e.sex,(function(t,a){return i("v-uni-label",{key:a,staticStyle:{flex:"1","flex-direction":"row",display:"flex","align-items":"center","justify-content":"center"}},[i("v-uni-view",[i("v-uni-radio",{attrs:{value:a,checked:a==e.userInfo.sex}})],1),i("v-uni-view",[e._v(e._s(t))])],1)})),1)],1):e._e()],1)],1),i("css-loading",{ref:"cssLoading"})],1)},o=[]},"91b7":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"neil-modal",props:{title:{type:String,default:""},content:String,align:{type:String,default:"left"},cancelText:{type:String,default:"取消"},cancelColor:{type:String,default:"#333333"},confirmText:{type:String,default:"确定"},confirmColor:{type:String,default:"#007aff"},showCancel:{type:[Boolean,String],default:!0},show:{type:[Boolean,String],default:!1},autoClose:{type:[Boolean,String],default:!0}},data:function(){return{isOpen:!1}},watch:{show:function(e){this.isOpen=e}},created:function(){this.isOpen=this.show},methods:{bindTouchmove:function(){},clickLeft:function(){var e=this;setTimeout((function(){e.$emit("cancel")}),200),this.closeModal()},clickRight:function(){var e=this;setTimeout((function(){e.$emit("confirm")}),200),this.closeModal()},clickMask:function(){this.autoClose&&this.closeModal()},closeModal:function(){this.showAnimation=!1,this.isOpen=!1,this.$emit("close")}}};t.default=a},"95dd":function(e,t,i){"use strict";i.r(t);var a=i("91b7"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},bfc2:function(e,t,i){var a=i("1bce");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("5201ad48",a,!0,{sourceMap:!1,shadowMode:!1})},c41f:function(e,t,i){"use strict";i.r(t);var a=i("deb8"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},deb8:function(module,exports,__webpack_require__){"use strict";__webpack_require__("7a82");var _interopRequireDefault=__webpack_require__("4ea4").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__("ac1f"),__webpack_require__("00b4");var _neilModal=_interopRequireDefault(__webpack_require__("1747")),_api=_interopRequireDefault(__webpack_require__("79ec")),_self,timer,_default={data:function(){return{userInfo:{},avatar:"/static/imgs/tx0.png",userId:0,isNotice:!1,isTel:!1,title:"提示",value:"",type:1,percent:0,imgs:"",fromData:{oldPwd:"",newPwd:"",rPwd:""},top:27,sex:["保密","帅哥","美女"],sms:{code:"",time:60,id:0}}},onLoad:function(){_self=this,_self._showLoading("加载中...");var e=uni.getSystemInfoSync();_self.top=e.safeArea.top+7;var t=_api.default.getLogins();!1===t?_self.skipUrl():(_self.userId=t.userId,_self.getUserInfo())},methods:{roundTime:function(){var e=this;_self.sms.time--,_self.sms.time>0?timer=setTimeout((function(){e.roundTime()}),1e3):(timer&&clearTimeout(timer),_self.sms.time=60)},getSms:function(){var e=this;if(60==_self.sms.time){if(!/^1[345789]\d{9}$/.test(_self.value))return _self.msgData("手机号有误，请输入有效的手机号"),!1;_self._showLoading("正在发送..."),uni.request({url:_api.default.apiData.getMobileCode+"/mobile/"+_self.value,method:"GET",header:{"Content-type":"application/x-www-form-urlencoded"},success:function(t){var i=t.data;if(201==i.Code)return _self.msgData(i.Msg,2e3),!1;_self.sms.id=i.Data,_self.msgData("验证码已发送，请注意查收",2e3),timer=setTimeout((function(){e.roundTime()}),1e3)},fail:function(){_self.msgData("服务器连接失败，请检查网络是否正常",3e3)}})}},radioChange:function(e){for(var t=0;t<_self.sex.length;t++)if(t===e.target.value){_self.userInfo.sex=t;break}},getUserInfo:function(){uni.request({url:_api.default.apiData.getInfo,method:"POST",data:{userId:_self.userId},header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){_self.userInfo=e.data.Data,_self.userInfo.avatar.length>0&&(_self.avatar=_self.userInfo.avatar),_self.userInfo.sex=""==_self.userInfo.sex||null==_self.userInfo.sex?0:_self.userInfo.sex,null!=_self.userInfo.tel&&_self.userInfo.tel.length>0&&(_self.isTel=!0),_self._hideLoading()},fail:function(){_self.msgData("服务器连接失败，请检查网络是否正常",5e3)}})},editUserInfo:function(e){_self._showLoading("加载中..."),_self.isNotice=!0,_self.type=e,1==e?(_self.title="请输入新昵称",_self.value=_self.userInfo.nickname):2==e?(_self.title="请输入新手机号",_self.value=_self.userInfo.tel):3==e?(_self.title="修改登录密码",_self.fromData.oldPwd="",_self.fromData.newPwd="",_self.fromData.rPwd=""):_self.title="请选择性别",_self._hideLoading()},inputPwd:function(e){_self.fromData[e.target.id]=e.target.value},inputUserInfo:function(e){_self.value=e.detail.value},inputCode:function(e){_self.sms.code=e.detail.value},confirm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_self.msgData("处理中...");var t=1==e?_self.imgs:_self.value;if(3==_self.type)var i=_api.default.apiData.changePwd,a={userId:_self.userId,oldPwd:_self.fromData.oldPwd,newPwd:_self.fromData.newPwd,confirm:_self.fromData.rPwd};else if(2==_self.type)i=_api.default.apiData.editInfo,a={type:_self.type,userId:_self.userId,content:t,code:_self.sms.code,logId:_self.sms.id};else i=_api.default.apiData.editInfo,a={type:_self.type,userId:_self.userId,content:t};uni.request({url:i,method:"POST",data:a,header:{"Content-type":"application/x-www-form-urlencoded"},success:function(t){0==e&&_self.msgData(t.data.Msg),200==t.data.Code&&(1==_self.type?_self.userInfo.nickname=_self.value:2==_self.type?(_self.userInfo.tel=_self.value,_self.isTel=!0):3==_self.type?(_api.default.delLogins(),_self.skipUrl(),_self.msgData("密码修改成功")):(_self.percent=0,_self.msgData("头像更换成功")))},fail:function(){_self.msgData("服务器连接失败，请检测网格是否正常")}})},closeNotice:function(){_self.isNotice=!1},uploadTx:function uploadTx(){uni.chooseImage({count:1,sizeType:["copressed"],success:function success(res){var imgFiles=res.tempFilePaths[0],uper=uni.uploadFile({url:_api.default.apiData.upload,filePath:imgFiles,name:"fileName",formData:{fileType:"image"},success:function success(e){var d=eval("("+e.data+")");200==d.Code?(_self.avatar=d.Data,_self.type=0,_self.imgs=d.Data,_self.confirm(1)):_api.default.showToast(d.Msg,2e3)}});uper.onProgressUpdate((function(e){_self.percent=e.progress}))}})},skipUrl:function(){uni.reLaunch({url:"/pages/login/login"})},msgData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";_self._hideLoading(),setTimeout((function(){uni.showToast({icon:i,title:e,mask:!0,duration:t})}),200)}},onPullDownRefresh:function(){_self.getUserInfo(),uni.stopPullDownRefresh()},components:{neilModal:_neilModal.default}};exports.default=_default},dfbf:function(e,t,i){"use strict";var a=i("25d6"),n=i.n(a);n.a},ee9d:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"neil-modal",class:{"neil-modal--show":e.isOpen},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.bindTouchmove.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"neil-modal__mask",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickMask.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"neil-modal__container"},[e.title.length>0?i("v-uni-view",{staticClass:"neil-modal__header"},[e._v(e._s(e.title))]):e._e(),i("v-uni-view",{staticClass:"neil-modal__content",class:e.content?"neil-modal--padding":"",style:{textAlign:e.align}},[e.content?[i("v-uni-text",{staticClass:"modal-content"},[e._v(e._s(e.content))])]:[e._t("default")]],2),i("v-uni-view",{staticClass:"neil-modal__footer"},[e.showCancel?i("v-uni-view",{staticClass:"neil-modal__footer-left",style:{color:e.cancelColor},attrs:{"hover-class":"neil-modal__footer-hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickLeft.apply(void 0,arguments)}}},[e._v(e._s(e.cancelText))]):e._e(),i("v-uni-view",{staticClass:"neil-modal__footer-right",style:{color:e.confirmColor},attrs:{"hover-class":"neil-modal__footer-hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickRight.apply(void 0,arguments)}}},[e._v(e._s(e.confirmText))])],1)],1)],1)},n=[]}}]);