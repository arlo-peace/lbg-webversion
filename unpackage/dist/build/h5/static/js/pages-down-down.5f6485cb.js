(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-down-down"],{"18eb":function(i,t,e){var o=e("a254");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[i.i,o,""]]),o.locals&&(i.exports=o.locals);var n=e("4f06").default;n("3fc49e09",o,!0,{sourceMap:!1,shadowMode:!1})},"4b55":function(i,t,e){"use strict";e("7a82");var o=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("d3b7"),e("159b"),e("a9e3");var n,a=o(e("79ec")),d={data:function(){return{isPlay:!1,video:{title:"加载中...",url:"",poster:""},downList:[],downloadingID:null,userId:0,isShowTig:!1,dbName:"video",videoNum:0,downNum:5,downBigNum:5,one:!1,phone:{},rightPx:20,topUpx:-100,key_val:[]}},onLoad:function(i){var t=this;n=this,n.phone=uni.getSystemInfoSync();var e=a.default.getLogins();!1===e?n.skipUrl():n.userId=e.userId,n.getDownList(),uni.$on("downloaing",(function(i){t.downloadingID=i})),uni.$on("download_event",(function(i){"connct"==i.type?n.getDownList():"progress"==i.type&&n.getDownTaskProgress(i.data)}))},onHide:function(){n.one=!0},onShow:function(){n.one&&n.getDownList()},onUnload:function(){uni.$off("download_event")},methods:{downVideo:function(i){var t=a.default.randomWord(!0,!0,1,5),e={userId:n.userId,videoId:t,title:"测试视频"+t,url:"mp4"==i?"http://ms.cqpig.cn/24.mp4":"https://vip4.ddyunbo.com/20210607/wY6rIqTw/index.m3u8",poster:"http://v3.cqpig.cn/XResource/video_pic/132401-1521091441cda2.jpg",videoSize:0};n.$down.addTask(e)},getDownList:function(){n.$down.allTask().then((function(i){n.downList=i,n.videoNum=n.downList.length,n.isShowTig=!n.videoNum,n.videoNum&&n.downList.forEach((function(i,t){n.key_val[i.videoid]=t}))})).catch((function(){a.default.showToast("读取数据出错，请关闭APP重试")}))},getDownTaskProgress:function(i){var t=n.$down.vlists[0];if((void 0!=t||i)&&n.downList.length&&n.key_val.length){var e=Number(n.key_val[t.videoid]);n.downList[e]["videosize"]=i.videosize,n.downList[e]["videoing"]=i.progress,n.downList[e]["downsize"]=i.downsize,n.downList[e]["downkb"]="已下载 "+i.progress+"%",n.downList[e]["starttostop"]=0}},playVideo:function(i,t,e,o){n._showLoading("加载中..."),i&&(n.video.url=e,n.video.title=t,n.video.poster=o,n.isPlay=!0,console.log(n.video.url)),n._hideLoading()},playClose:function(){n.video.url="",n.video.poster="",n.isPlay=!1},videoError:function(i){console.log(this.video.url),a.default.showToast("加载失败，视频暂未下载完成或已删除",3e3)},delVideo:function(i,t,e,o){console.log(i),console.log(this.downloadingID),this.downloadingID!==i?uni.showModal({content:"确认要删除吗？",confirmText:"确定",success:function(o){o.confirm&&(a.default.showToast("删除成功"),n.$down.delTask(i,e),n.downList[t]["delstatus"]=0,n.videoNum--,n.videoNum<1&&(n.isShowTig=!0))}}):a.default.showToast("视频正在下载，请稍候。",2e3)},skipUrl:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/login/login",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;1==t?uni.reLaunch({url:i}):uni.navigateTo({url:i})}}};t.default=d},"6c3f":function(i,t){i.exports="data:image/png;base64,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"},"73c3":function(i,t,e){"use strict";e.r(t);var o=e("996b"),n=e("f4a5");for(var a in n)["default"].indexOf(a)<0&&function(i){e.d(t,i,(function(){return n[i]}))}(a);e("d377");var d=e("f0c5"),s=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"0ec8bff6",null,!1,o["a"],void 0);t["default"]=s.exports},"996b":function(i,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return n})),e.d(t,"a",(function(){}));var o=function(){var i=this,t=i.$createElement,o=i._self._c||t;return o("v-uni-view",{staticClass:"bg"},[o("v-uni-view",{staticClass:"video-list"},[i._l(i.downList,(function(t,n){return t.delstatus?o("v-uni-view",{key:n,class:t.downstatus?"video-info ok":"video-info no"},[o("v-uni-view",{staticClass:"img",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.playVideo(t.downstatus,t.title,t.url,t.poster)}}},[o("v-uni-image",{staticClass:"pic",attrs:{src:t.poster,mode:"aspectFill"}}),t.downstatus?o("v-uni-image",{staticClass:"play",style:{"margin-top":i.topUpx+"upx"},attrs:{src:e("dcb7"),mode:"aspectFill"}}):i._e()],1),o("v-uni-view",{staticClass:"video-content"},[o("v-uni-image",{staticClass:"bgx",attrs:{src:e("6c3f"),mode:"aspectFill"},on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.delVideo(t.videoid,n,t.url,t.downstatus)}}}),o("v-uni-view",{staticClass:"video-title video-info-video-title"},[i._v(i._s(t.title))]),t.downstatus?o("v-uni-view",[o("v-uni-view",{staticClass:"video-kb"},[o("v-uni-view",{staticStyle:{"margin-left":"2px"}},[i._v("已下载")]),o("v-uni-view",{staticStyle:{float:"right","margin-right":"1px"}},[i._v(i._s(t.videosize)),"m3u8"!=t.type?o("v-uni-text",[i._v("M")]):i._e()],1)],1),o("v-uni-view",{staticClass:"video-lenght"},[o("v-uni-view",{staticClass:"video-lenght-ing",staticStyle:{width:"100%"}})],1)],1):o("v-uni-view",[o("v-uni-view",{staticClass:"video-kb"},[o("v-uni-view",{staticStyle:{"margin-left":"2px"}},[i._v(i._s(t.downkb))]),o("v-uni-view",{staticStyle:{float:"right","margin-right":"2px"}},[i._v(i._s(t.downsize)),"m3u8"!=t.type?o("v-uni-text",[i._v("M")]):i._e(),i._v("/"+i._s(t.videosize)),"m3u8"!=t.type?o("v-uni-text",[i._v("M")]):i._e()],1)],1),o("v-uni-view",{staticClass:"video-lenght"},[o("v-uni-view",{staticClass:"video-lenght-ing",style:{width:t.videoing+"%"}})],1)],1)],1)],1):i._e()})),i.isShowTig?o("v-uni-view",{staticStyle:{width:"100%",height:"500upx","margin-top":"45%","text-align":"center"}},[o("v-uni-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"/static/empty.png"}}),o("v-uni-view",{staticStyle:{width:"100%","font-size":"12px",color:"#CCCCCC","margin-top":"30upx"}},[i._v("当前页面暂无内容")])],1):i._e()],2),i.isPlay?o("v-uni-view",{staticClass:"video"},[o("v-uni-view",{staticClass:"play-title"},[i._v(i._s(i.video.title))]),o("v-uni-video",{attrs:{src:i.video.url,poster:i.video.poster,autoplay:!0,title:i.video.title},on:{error:function(t){arguments[0]=t=i.$handleEvent(t),i.videoError.apply(void 0,arguments)}}}),o("v-uni-view",{staticClass:"play-close",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.playClose.apply(void 0,arguments)}}},[o("v-uni-image",{attrs:{src:"/static/imgs/delx.png"}})],1)],1):i._e(),o("css-loading",{ref:"cssLoading"})],1)},n=[]},a254:function(i,t,e){var o=e("24fb");t=o(!1),t.push([i.i,".video[data-v-0ec8bff6]{width:100%;height:100%;background:rgba(0,0,0,.5);position:fixed;top:0;padding:0 4%}.video uni-video[data-v-0ec8bff6]{width:92%}.play-title[data-v-0ec8bff6]{width:90%;margin-top:25%;font-size:14px;background:rgba(0,0,0,.8);text-align:left;color:#fff;padding:5px 1%;border-radius:5px 5px 0 0}.play-close[data-v-0ec8bff6]{width:92%;text-align:center;margin-top:5px}.play-close uni-image[data-v-0ec8bff6]{width:30px;height:30px;border:3px solid rgba(239,187,52,.9);border-radius:50%}.bgx[data-v-0ec8bff6]{width:20px;height:20px;float:right;margin-top:4px;margin-right:-5px\n\t/*background-color: #009688; */}.start-down[data-v-0ec8bff6]{position:absolute;width:20px;height:20px;margin-top:-20px;right:24px\n\t/*background-color: #007AFF; */}.content-head[data-v-0ec8bff6]{position:fixed;width:100%;height:30px;line-height:30px;top:27px;text-align:center;color:#666}.video-list[data-v-0ec8bff6]{margin-top:%?40?%\n\t/*background-color: #007AFF; */}.no[data-v-0ec8bff6]{\n\t/*border: 1px solid #E5E5E5;  */}.ok[data-v-0ec8bff6]{\n\t/*border: 1px solid rgba(51,172,85,0.5);  */}.video-info[data-v-0ec8bff6]{padding:%?10?% 15px;width:86%;margin:0 auto 10px;border-radius:5px;\n\t/*box-shadow: 0px 4px 6px 0px rgba(103, 103, 103, 0.2); */font-size:17px;color:#666}.video-info uni-view[data-v-0ec8bff6]{display:inline-block}.video-info .img[data-v-0ec8bff6]{width:20%;height:60px}.video-info .img .pic[data-v-0ec8bff6]{width:%?200?%;height:100%;border-radius:%?10?%;background:#ccc;margin-bottom:-4px}.video-info .img .play[data-v-0ec8bff6]{position:absolute;width:35px;height:35px;margin-left:%?70?%;margin-top:%?-100?%}.video-content[data-v-0ec8bff6]{\n\t/* 78% */width:65%;float:right}.video-content uni-view[data-v-0ec8bff6]{display:block}.video-title[data-v-0ec8bff6]{width:85%;font-size:%?28?%;height:25px;line-height:25px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#fff!important}.video-lenght[data-v-0ec8bff6]{width:85%;font-size:3px;height:3px;line-height:3px;text-align:center;border-radius:3px;border:1px solid #999}.video-lenght-ing[data-v-0ec8bff6]{border-radius:5px;height:3px;background:#ff8f00;color:#fff}.video-kb[data-v-0ec8bff6]{width:85%;font-size:12px;height:%?50?%;line-height:%?60?%;color:#999!important}.video-kb uni-view[data-v-0ec8bff6]{display:inline-block}",""]),i.exports=t},d377:function(i,t,e){"use strict";var o=e("18eb"),n=e.n(o);n.a},dcb7:function(i,t,e){i.exports=e.p+"static/img/play.a28773f6.png"},f4a5:function(i,t,e){"use strict";e.r(t);var o=e("4b55"),n=e.n(o);for(var a in o)["default"].indexOf(a)<0&&function(i){e.d(t,i,(function(){return o[i]}))}(a);t["default"]=n.a}}]);