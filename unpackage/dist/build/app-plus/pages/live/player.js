/*! For license information please see player.js.LICENSE.txt */
!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=152)}({0:function(e,t,a){"use strict";function n(e,t,a,n,r,o,i,p,s,u){var l,c="function"==typeof e?e.options:e;if(s){c.components||(c.components={});var f=Object.prototype.hasOwnProperty;for(var d in s)f.call(s,d)&&!f.call(c.components,d)&&(c.components[d]=s[d])}if(u&&("function"==typeof u.beforeCreate&&(u.beforeCreate=[u.beforeCreate]),(u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(c.mixins||(c.mixins=[])).push(u)),t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=p?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var g=c.render;c.render=function(e,t){return l.call(t),g(e,t)}}else{var y=c.beforeCreate;c.beforeCreate=y?[].concat(y,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return n}))},1:function(e,t){e.exports={"@VERSION":2}},108:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,showScrollbar:!1,enableBackToTop:!0,bubble:"true"}},[a("view",{staticClass:["content"]},[e.aid>0?a("view",{staticClass:["live-player"]},[e.isShowPlaer?a("u-video",{staticClass:["player-video"],style:{height:e.phone.windowHeight+"px"},attrs:{id:"myVideo",autoplay:!0,controls:!1,loop:!0,muted:e.playerMuted,src:e.playerUrl,enableProgressGesture:!1,objectFit:e.objectFit,poster:e.anchorCover},on:{error:e.videoErrorCallback,play:e.playLoad}},[a("u-scalable",{staticStyle:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0"}},[e.isAnchorCover?a("u-image",{staticClass:["player-end"],style:{height:e.phone.windowHeight+"px"},attrs:{src:e.anchorCover,mode:"aspectFill"}}):e._e()],1)],1):a("cover-image",{staticClass:["player-end"],style:{height:e.phone.windowHeight+"px"},attrs:{src:e.anchorCover,mode:"aspectFill"}})],1):a("view",{staticClass:["live-player"]},[a("live-pusher",{ref:"livePusher",staticClass:["livePusher"],style:{height:e.phone.windowHeight+"px"},attrs:{id:"livePusher",aspect:"9:16",url:e.startUrl,muted:!1,enableCamera:!0,autoFocus:!0,mode:e.playerSetting.mode,beauty:e.playerSetting.beauty,whiteness:e.playerSetting.whiteness},on:{netstatus:e.netstatus,error:e.liveError}}),e.lingText.length>0?a("scroll-view",{staticClass:["live-ing"],attrs:{scrollY:"true",showScrollbar:!1}},e._l(e.lingText,(function(t,n){return a("u-text",{key:n,staticClass:["live-text"],appendAsTree:!0,attrs:{append:"tree"}},[e._v(e._s(t))])})),0):e._e()],1)])])},r=[]},121:function(e,t,a){var n=a(2),r=a(122)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},122:function(e,t,a){var n=a(2).default;function r(){"use strict";e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},a=Object.prototype,o=a.hasOwnProperty,i=Object.defineProperty||function(e,t,a){e[t]=a.value},p="function"==typeof Symbol?Symbol:{},s=p.iterator||"@@iterator",u=p.asyncIterator||"@@asyncIterator",l=p.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function f(e,t,a,n){var r=t&&t.prototype instanceof y?t:y,o=Object.create(r.prototype),p=new T(n||[]);return i(o,"_invoke",{value:x(e,a,p)}),o}function d(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var g={};function y(){}function h(){}function v(){}var _={};c(_,s,(function(){return this}));var m=Object.getPrototypeOf,k=m&&m(m(P([])));k&&k!==a&&o.call(k,s)&&(_=k);var b=v.prototype=y.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var a;i(this,"_invoke",{value:function(r,i){function p(){return new t((function(a,p){!function a(r,i,p,s){var u=d(e[r],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==n(c)&&o.call(c,"__await")?t.resolve(c.__await).then((function(e){a("next",e,p,s)}),(function(e){a("throw",e,p,s)})):t.resolve(c).then((function(e){l.value=e,p(l)}),(function(e){return a("throw",e,p,s)}))}s(u.arg)}(r,i,a,p)}))}return a=a?a.then(p,p):p()}})}function x(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return A()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var p=I(i,a);if(p){if(p===g)continue;return p}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=d(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===g)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function I(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(o.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,i(b,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:h,configurable:!0}),h.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},S(w.prototype),c(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var i=new w(f(e,a,n,r),o);return t.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(b),c(b,l,"Generator"),c(b,s,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],i=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var p=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(p&&s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(p){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),C(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;C(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:P(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),g}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},123:function(e,t){function a(e,t,a,n,r,o,i){try{var p=e[o](i),s=p.value}catch(e){return void a(e)}p.done?t(s):Promise.resolve(s).then(n,r)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function p(e){a(i,r,o,p,s,"next",e)}function s(e){a(i,r,o,p,s,"throw",e)}p(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},134:function(e,t,a){"use strict";a.r(t);var n=a(83),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},152:function(e,t,a){"use strict";a.r(t);a(18),a(20);var n=a(52);n.default.mpType="page",n.default.route="pages/live/player",n.default.el="#root",new Vue(n.default)},16:function(e,t,a){"use strict";function n(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function r(){return"string"==typeof __channelId__&&__channelId__}function o(e,t){switch(n(t)){case"Function":return"function() { [native code] }";default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=t.shift();if(r())return t.push(t.pop().replace("at ","uni-app:///")),console[i].apply(console,t);var p=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,o)+"---END:JSON---"}catch(a){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var a=n(e).toUpperCase();e="NUMBER"===a||"BOOLEAN"===a?"---BEGIN:"+a+"---"+e+"---END:"+a+"---":String(e)}return e})),s="";if(p.length>1){var u=p.pop();s=p.join("---COMMA---"),0===u.indexOf(" at ")?s+=u:s+="---COMMA---"+u}else s=p[0];console[i](s)},t.log=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];console[e].apply(console,a)}},17:function(e,t,a){(function(t){a(2);var n="abc123456",r=uni.getStorageSync("nowDomain_"+n)||"https://jk.lubugou.xyz",o={appInits:r+"/appapi/appInit/appkey/"+n,getDashangList:r+"/appapi/getDashangList/appkey/"+n,getGtypeList:r+"/appapi/getGtypeList/appkey/"+n,updateCity:r+"/appapi/updateCity/appkey/"+n,goToGuanzhu:r+"/appapi/goToGuanzhu/appkey/"+n,getVersion:r+"/appapi/getVersion/appkey/"+n,getDgGameSet:r+"/appapi/getDgGameSet/appkey/"+n,homeData:r+"/appapi/homeMain/appkey/"+n,videoData:r+"/appapi/videoList/appkey/"+n,getAlbum:r+"/appapi/albumInfo/appkey/"+n,videoInfo:r+"/appapi/detail/appkey/"+n,commentList:r+"/appapi/commentList/appkey/"+n,addCollection:r+"/appapi/addCollection/appkey/"+n,videoLike:r+"/appapi/like/appkey/"+n,addComment:r+"/appapi/comment/appkey/"+n,rechargeDgGame:r+"/appapi/rechargeDgGame/appkey/"+n,getMoney:r+"/appapi/getMoney/appkey/"+n,transferMoney:r+"/appapi/transferMoney/appkey/"+n,getBank:r+"/appapi/bankLists/appkey/"+n,getDigit:r+"/appapi/digitLists/appkey/"+n,getUserBank:r+"/appapi/userBankList/appkey/"+n,setBank:r+"/appapi/setDefaultBank/appkey/"+n,delBank:r+"/appapi/delBank/appkey/"+n,addBank:r+"/appapi/addBank/appkey/"+n,addDigit:r+"/appapi/addDigit/appkey/"+n,getMessage:r+"/appapi/message/appkey/"+n,checkNewMessage:r+"/appapi/checkNewMessage/appkey/"+n,getBook:r+"/appapi/book/appkey/"+n,getBookAudio:r+"/appapi/bookAudio/appkey/"+n,getBookAlbum:r+"/appapi/bookAlbum/appkey/"+n,getBookAudioDetail:r+"/appapi/bookAudioDetail/appkey/"+n,getBookAlbumDetail:r+"/appapi/bookAlbumDetail/appkey/"+n,getDeposit:r+"/appapi/depositLog/appkey/"+n,getDetailed:r+"/appapi/detailedList/appkey/"+n,editInfo:r+"/appapi/editInfo/appkey/"+n,upload:r+"/appapi/upload/appkey/"+n,getColl:r+"/appapi/collectionList/appkey/"+n,delColl:r+"/appapi/deleteCollection/appkey/"+n,getWatchLog:r+"/appapi/getWatchLog/appkey/"+n,getSvodBuyLog:r+"/appapi/getSvodBuyLog/appkey/"+n,delWatchLog:r+"/appapi/delWatchLog/appkey/"+n,myShare:r+"/appapi/myShare/appkey/"+n,getShareLog:r+"/appapi/shareLog/appkey/"+n,changePwd:r+"/appapi/changePwd/appkey/"+n,getCharge:r+"/appapi/getChargeData/appkey/"+n,getPayList:r+"/appapi/getPayList/appkey/"+n,createOrder:r+"/appapi/createOrder/appkey/"+n,bookAudioWatch:r+"/appapi/bookAudioWatch/appkey/"+n,getAbout:r+"/appapi/getAbout/appkey/"+n,getAnnounement:r+"/appapi/getAnnounement/appkey/"+n,getGameList:r+"/appapi/getGameList/appkey/"+n,getGameDetail:r+"/appapi/getGameDetail/appkey/"+n,getPrize:r+"/appapi/getPrize/appkey/"+n,buyVideo:r+"/appapi/buy/appkey/"+n,buyBook:r+"/appapi/buyBook/appkey/"+n,getHotSearch:r+"/appapi/getHotSearch/appkey/"+n,getWorldSearch:r+"/appapi/getWorldSearch/appkey/"+n,searchVideo:r+"/appapi/searchVideo/appkey/"+n,getHotBookSearch:r+"/appapi/getHotBookSearch/appkey/"+n,searchBook:r+"/appapi/searchBook/appkey/"+n,emptyBookSearch:r+"/appapi/emptyBookSearch/appkey/"+n,emptySearch:r+"/appapi/emptySearch/appkey/"+n,getAd:r+"/appapi/getAd/appkey/"+n,getSharePid:r+"/appapi/getSharePid/appkey/"+n,uploadImg:r+"/appapi/uploadImg/appkey/"+n,getPlazaList:r+"/appapi/communityHomepage/appkey/"+n,getComment:r+"/appapi/getPostComment/appkey/"+n,getAdInfo:r+"/appapi/getAdInfo/appkey/"+n,sendComment:r+"/appapi/sendPostComment/appkey/"+n,homePage:r+"/appapi/homePage/appkey/"+n,uploadConfig:r+"/appapi/getUploadConfig/appkey/"+n,getTopMenu:r+"/appapi/getTopMenu/appkey/"+n,getAnchorList:r+"/appapi/getAnchorList/appkey/"+n,buyGoldRoom:r+"/appapi/buyGoldRoom/appkey/"+n,getUserAnchor:r+"/appapi/getUserIsAnchor/appkey/"+n,regAnchor:r+"/appapi/regAnchor/appkey/"+n,playerConfig:r+"/appapi/enterTheStudio/appkey/"+n,focusAnchor:r+"/appapi/focusOnTheAnchor/appkey/"+n,logoutRoom:r+"/appapi/exitTheStudio/appkey/"+n,giveAnchor:r+"/appapi/rewardTheAnchor/appkey/"+n,liveInitData:r+"/appapi/startLiveBroadcast/appkey/"+n,saveRoomData:r+"/appapi/saveRoomData/appkey/"+n,roomUploadImg:r+"/appapi/roomUploadImg/appkey/"+n,endLivePlayer:r+"/appapi/endLiveBroadcast/appkey/"+n,updateSendMs:r+"/appapi/updateSendMs/appkey/"+n,anchorOutUser:r+"/appapi/anchorOutUser/appkey/"+n,getPictureConfig:r+"/appapi/getPictureConfig/appkey/"+n,getPicture:r+"/appapi/getPicture/appkey/"+n,buyPicture:r+"/appapi/buyPicture/appkey/"+n,pictureInfo:r+"/appapi/pictureInfo/appkey/"+n,openH5Url:r+"/appapi/openH5Url/appkey/"+n,updateTryTime:r+"/appapi/updateTryTime/appkey/"+n,getAlbumList:r+"/appapi/getAlbumList/appkey/"+n,getAdMini:r+"/appapi/getAdMini/appkey/"+n,getUPtop:r+"/appapi/getUPtop/appkey/"+n,getUserTeam:r+"/appapi/getUserTeam/appkey/"+n,getPlayerLog:r+"/appapi/getPlayerLog/appkey/"+n,getPlayerGift:r+"/appapi/getPlayerGift/appkey/"+n,getFilterData:r+"/appapi/getFilterData/appkey/"+n,getFilters:r+"/appapi/getFilterVideo/appkey/"+n,getClassData:r+"/appapi/getClassData/appkey/"+n,getClassVideo:r+"/appapi/getClassVideoData/appkey/"+n,getTagData:r+"/appapi/getTagData/appkey/"+n,getSvodClass:r+"/appapi/getSvodClassData/appkey/"+n,getSvodData:r+"/appapi/getSvodClassVideoData/appkey/"+n,getSvodHotData:r+"/appapi/getSvodHotVideoData/appkey/"+n,getSvodTopData:r+"/appapi/getSvodTopData/appkey/"+n,getSvodMain:r+"/appapi/getSvodMain/appkey/"+n,updateFree:r+"/appapi/updateFree/appkey/"+n,goldBuyVideo:r+"/appapi/goldBuyVideo/appkey/"+n,likeSvodVideo:r+"/appapi/likeSvodVideo/appkey/"+n,collectSvodVideo:r+"/appapi/collectSvodVideo/appkey/"+n,svodVideoComm:r+"/appapi/svodVideoComment/appkey/"+n,sendVideoComm:r+"/appapi/sendVideoComment/appkey/"+n,tagSvodVideo:r+"/appapi/tagSvodVideo/appkey/"+n,playSvodVideo:r+"/appapi/playSvdoaaa/appkey/"+n,vipWeekDowns:r+"/appapi/vipWeekDowns/appkey/"+n,changeLive:r+"/appapi/changeLive/appkey/"+n,productionFocus:r+"/appapi/productionFocus/appkey/"+n,production:r+"/appapi/production/appkey/"+n,productionDetail:r+"/appapi/productionDetail/appkey/"+n,shortVideo:r+"/appapi/shortVideo/appkey/"+n,refreshSvod:r+"/appapi/refreshSvod/appkey/"+n,shortVideoFocus:r+"/appapi/shortVideoFocus/appkey/"+n,shortVideoDetail:r+"/appapi/shortVideoDetail/appkey/"+n,clickPost:r+"/appapi/addClickPost/appkey/"+n,getPay:r+"/appapi/pay",agreement:r+"/appapi/privacy/type/1",privacy:r+"/appapi/privacy/type/2",getAtlasCity:r+"/appapi/getAtlasCity/appkey/"+n,heartBeat:r+"/appapi/heartbeat/appkey/"+n,userLogin:r+"/appapi/login/appkey/"+n,userReg:r+"/appapi/register/appkey/"+n,getInfo:r+"/appapi/getUserInfo/appkey/"+n,userSign:r+"/appapi/userSign/appkey/"+n,myBalance:r+"/appapi/balance/appkey/"+n,giveFeedback:r+"/appapi/userFeedback/appkey/"+n,initialInstall:r+"/appapi/initialInstall/appkey/"+n},i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r="",o=a;if(t)var i=["0","1","2","3","4","5","6","7","8","9"];else i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(o=Math.round(Math.random()*(n-a))+a);for(var p=0;p<o;p++){var s=Math.round(Math.random()*(i.length-1));r+=i[s]}return r},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";uni.$emit("_hideLoading"),setTimeout((function(){uni.showToast({icon:a,title:e,mask:!0,duration:t,image:n})}),200)},s=function(e){try{var t=e;return t<1048576?(t/1024).toFixed(2):1048576==t?1:t>1048576&&t<1073741824?(t/1048576).toFixed(2):t>1048576&&1073741824==t?"1GB":t>1073741824&&t<1099511627776?(t/1073741824).toFixed(2):"\u6587\u4ef6\u8d85\u8fc71TB"}catch(e){return!1}},u=function(){var e=uni.getStorageSync("my_did_abc123456");if(e)return e;var t=i(!1,!1,16,16);return uni.setStorageSync("my_did_abc123456","H5"+t),t};String.prototype.strLen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>255||this.charCodeAt(t)<0?e+=2:e++;return e},String.prototype.strToChars=function(){for(var e=new Array,t=0;t<this.length;t++)e[t]=[this.substr(t,1),this.isCHS(t)];return String.prototype.charsArray=e,e},String.prototype.isCHS=function(e){return this.charCodeAt(e)>255||this.charCodeAt(e)<0},String.prototype.subCHString=function(e,t){var a=0,n="";this.strToChars();for(var r=0;r<this.length;r++){if(this.charsArray[r][1]?a+=2:a++,t<a)return n;e<a&&(n+=this.charsArray[r][0])}return n},String.prototype.subCHStr=function(e,t){return this.subCHString(e,e+t)},e.exports={appkey:n,apiData:o,getLogins:function(){try{var e=uni.getStorageSync("userInfo_"+n);return e||!1}catch(e){return!1}},getMobileDid:function(e){var t=uni.getSystemInfoSync();if((a=t.deviceId).length>0){var a=a.split("|").filter((function(e){return e&&e.trim()}));e(a[a.length-1])}else plus.device.getInfo({success:function(e){if("android"==t.platform){var n=e.uuid.split(",");a=n[0]}else a=e.uuid},fail:function(e){a=u()},complete:function(t){e(a)}})},randomWord:i,printLog:function(){t("log"," ========= copyright: AprApp\u89c6\u9891v5 ========= "," at common/api.js:827")},getWebFileSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=0;e.length<1?t(a):uni.request({url:e,method:"HEAD",success:function(e){200==e.statusCode&&(a=s(e.header["Content-Length"]))},complete:function(){t(a)}})},setLogins:function(e){try{return uni.setStorageSync("userInfo_"+n,e),!0}catch(e){return!1}},imgCache:function(e,t){var r=a(22)(e)+n+"",o=uni.getStorageSync(r);o?(plus.io.resolveLocalFileSystemURL(o,(function(e){e.file((function(e){}))}),(function(e){uni.removeStorageSync(r)})),t(o)):(t(e),uni.downloadFile({url:e,success:function(e){200==e.statusCode&&uni.saveFile({tempFilePath:e.tempFilePath,success:function(e){var t=e.savedFilePath;uni.setStorageSync(r,t)}})}}))},jumpUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"web",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){if("#"==e||""==e)return!1;if("back"!=e)switch(t){case"old":uni.reLaunch({url:e});break;case"new":uni.navigateTo({url:e,fail:function(){uni.switchTab({url:e})}});break;case"tab":uni.switchTab({url:e});break;case"newx":uni.redirectTo({url:e,fail:function(){uni.switchTab({url:e})}});break;case"app":var n="/pages/jump/index?u="+e+("number"!=typeof a?"&title="+a:"");uni.navigateTo({url:n});break;default:plus.runtime.openURL(e)}else{a=parseInt(t)?t:1;uni.navigateBack({delta:a})}}(a)},formatSeconds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseInt(e),n=Math.floor(a/3600)<10?"0"+Math.floor(a/3600):Math.floor(a/3600),r=Math.floor(a/60%60)<10?"0"+Math.floor(a/60%60):Math.floor(a/60%60),o=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60),i="";return 1==t?(i+="".concat(n,":"),i+="".concat(r,":"),i+="".concat(o)):(i+="".concat(n,"\u65f6"),i+="".concat(r,"\u5206"),i+="".concat(o,"\u79d2")),i},showToast:p,isH5:function(){return{type:"app",ver:0}},delLogins:function(){try{return uni.removeStorageSync("userInfo_"+n),!0}catch(e){return!1}},outApp:function(){switch(uni.getSystemInfoSync().platform){case"android":plus.runtime.quit();break;case"ios":plus.ios.import("UIApplication").sharedApplication().performSelector("exit")}}}}).call(this,a(16).default)},18:function(e,t,a){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(a(19).default,Vue.prototype.__$appStyle__)},19:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},2:function(e,t){function a(t){return e.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},20:function(e,t){if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(a){return t.resolve(e()).then((function(){return a}))}),(function(a){return t.resolve(e()).then((function(){throw a}))}))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){var a=uni.requireGlobal();ArrayBuffer=a.ArrayBuffer,Int8Array=a.Int8Array,Uint8Array=a.Uint8Array,Uint8ClampedArray=a.Uint8ClampedArray,Int16Array=a.Int16Array,Uint16Array=a.Uint16Array,Int32Array=a.Int32Array,Uint32Array=a.Uint32Array,Float32Array=a.Float32Array,Float64Array=a.Float64Array,BigInt64Array=a.BigInt64Array,BigUint64Array=a.BigUint64Array}},22:function(e,t,a){var n;a(2);!function(r){"use strict";function o(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function i(e,t,a,n,r,i){return o((p=o(o(t,e),o(n,i)))<<(s=r)|p>>>32-s,a);var p,s}function p(e,t,a,n,r,o,p){return i(t&a|~t&n,e,t,r,o,p)}function s(e,t,a,n,r,o,p){return i(t&n|a&~n,e,t,r,o,p)}function u(e,t,a,n,r,o,p){return i(t^a^n,e,t,r,o,p)}function l(e,t,a,n,r,o,p){return i(a^(t|~n),e,t,r,o,p)}function c(e,t){var a,n,r,i;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var c=1732584193,f=-271733879,d=-1732584194,g=271733878,y=0;y<e.length;y+=16)c=p(a=c,n=f,r=d,i=g,e[y],7,-680876936),g=p(g,c,f,d,e[y+1],12,-389564586),d=p(d,g,c,f,e[y+2],17,606105819),f=p(f,d,g,c,e[y+3],22,-1044525330),c=p(c,f,d,g,e[y+4],7,-176418897),g=p(g,c,f,d,e[y+5],12,1200080426),d=p(d,g,c,f,e[y+6],17,-1473231341),f=p(f,d,g,c,e[y+7],22,-45705983),c=p(c,f,d,g,e[y+8],7,1770035416),g=p(g,c,f,d,e[y+9],12,-1958414417),d=p(d,g,c,f,e[y+10],17,-42063),f=p(f,d,g,c,e[y+11],22,-1990404162),c=p(c,f,d,g,e[y+12],7,1804603682),g=p(g,c,f,d,e[y+13],12,-40341101),d=p(d,g,c,f,e[y+14],17,-1502002290),c=s(c,f=p(f,d,g,c,e[y+15],22,1236535329),d,g,e[y+1],5,-165796510),g=s(g,c,f,d,e[y+6],9,-1069501632),d=s(d,g,c,f,e[y+11],14,643717713),f=s(f,d,g,c,e[y],20,-373897302),c=s(c,f,d,g,e[y+5],5,-701558691),g=s(g,c,f,d,e[y+10],9,38016083),d=s(d,g,c,f,e[y+15],14,-660478335),f=s(f,d,g,c,e[y+4],20,-405537848),c=s(c,f,d,g,e[y+9],5,568446438),g=s(g,c,f,d,e[y+14],9,-1019803690),d=s(d,g,c,f,e[y+3],14,-187363961),f=s(f,d,g,c,e[y+8],20,1163531501),c=s(c,f,d,g,e[y+13],5,-1444681467),g=s(g,c,f,d,e[y+2],9,-51403784),d=s(d,g,c,f,e[y+7],14,1735328473),c=u(c,f=s(f,d,g,c,e[y+12],20,-1926607734),d,g,e[y+5],4,-378558),g=u(g,c,f,d,e[y+8],11,-2022574463),d=u(d,g,c,f,e[y+11],16,1839030562),f=u(f,d,g,c,e[y+14],23,-35309556),c=u(c,f,d,g,e[y+1],4,-1530992060),g=u(g,c,f,d,e[y+4],11,1272893353),d=u(d,g,c,f,e[y+7],16,-155497632),f=u(f,d,g,c,e[y+10],23,-1094730640),c=u(c,f,d,g,e[y+13],4,681279174),g=u(g,c,f,d,e[y],11,-358537222),d=u(d,g,c,f,e[y+3],16,-722521979),f=u(f,d,g,c,e[y+6],23,76029189),c=u(c,f,d,g,e[y+9],4,-640364487),g=u(g,c,f,d,e[y+12],11,-421815835),d=u(d,g,c,f,e[y+15],16,530742520),c=l(c,f=u(f,d,g,c,e[y+2],23,-995338651),d,g,e[y],6,-198630844),g=l(g,c,f,d,e[y+7],10,1126891415),d=l(d,g,c,f,e[y+14],15,-1416354905),f=l(f,d,g,c,e[y+5],21,-57434055),c=l(c,f,d,g,e[y+12],6,1700485571),g=l(g,c,f,d,e[y+3],10,-1894986606),d=l(d,g,c,f,e[y+10],15,-1051523),f=l(f,d,g,c,e[y+1],21,-2054922799),c=l(c,f,d,g,e[y+8],6,1873313359),g=l(g,c,f,d,e[y+15],10,-30611744),d=l(d,g,c,f,e[y+6],15,-1560198380),f=l(f,d,g,c,e[y+13],21,1309151649),c=l(c,f,d,g,e[y+4],6,-145523070),g=l(g,c,f,d,e[y+11],10,-1120210379),d=l(d,g,c,f,e[y+2],15,718787259),f=l(f,d,g,c,e[y+9],21,-343485551),c=o(c,a),f=o(f,n),d=o(d,r),g=o(g,i);return[c,f,d,g]}function f(e){for(var t="",a=32*e.length,n=0;n<a;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function d(e){var t=[];for(t[(e.length>>2)-1]=void 0,n=0;n<t.length;n+=1)t[n]=0;for(var a=8*e.length,n=0;n<a;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function g(e){for(var t,a="0123456789abcdef",n="",r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+=a.charAt(t>>>4&15)+a.charAt(15&t);return n}function y(e){return unescape(encodeURIComponent(e))}function h(e){return f(c(d(t=y(e)),8*t.length));var t}function v(e,t){return function(e,t){var a,n,r=d(e),o=[],i=[];for(o[15]=i[15]=void 0,16<r.length&&(r=c(r,8*e.length)),a=0;a<16;a+=1)o[a]=909522486^r[a],i[a]=1549556828^r[a];return n=c(o.concat(d(t)),512+8*t.length),f(c(i.concat(n),640))}(y(e),y(t))}function _(e,t,a){return t?a?v(t,e):g(v(t,e)):a?h(e):g(h(e))}void 0===(n=function(){return _}.call(t,a,t,e))||(e.exports=n)}()},3:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},52:function(e,t,a){"use strict";var n=a(108),r=a(81),o=a(0);var i=Object(o.a)(r.default,n.b,n.c,!1,null,null,"068e0de8",!1,n.a,void 0);(function(e){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(a(134).default,this.options.style):Object.assign(this.options.style,a(134).default)}).call(i),t.default=i.exports},81:function(e,t,a){"use strict";var n=a(82),r=a.n(n);t.default=r.a},82:function(module,exports,__webpack_require__){"use strict";(function(__f__){var _interopRequireDefault=__webpack_require__(3);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(121)),_asyncToGenerator2=_interopRequireDefault(__webpack_require__(123)),_api=_interopRequireDefault(__webpack_require__(17)),_self,socketTask,pingTime,is_open_socket=!1,_default={components:{},data:function(){return{isLogin:!1,userId:0,phone:{},loadingHieght:100,isCheck:!1,isBtn:!1,aid:0,setTing:{playerName:"",playerGold:0,playerImg:""},playerImg:"",lingText:[],playerSetting:{mode:"SD",whiteness:0,beauty:0},context:{},playerUrl:"",startUrl:"",server:{ipUrl:""},did:"",userInfo:{id:0,isVip:!1,username:"loading...",gold:0,isDisable:!1,headImg:""},isShowPlaer:!0,videoContext:{},playerMuted:!1,backUrl:{url:"/pages/live/list",type:"newx"},anchorCover:"",isAnchorCover:!0,objectFit:"cover"}},onLoad:function onLoad(e){_self=this,_self.isLogin=_api.default.getLogins(),_self.isLogin&&(_self.userId=_self.isLogin.userId),_self.phone=uni.getSystemInfoSync(),"ios"==_self.phone.platform&&plus.navigator.hasNotchInScreen()?_self.objectFit="fill":_self.objectFit="cover",_self.loadingHieght=_self.phone.windowHeight+20,_self.aid=1==e.t?0:e.aid,null!=e.url&&(_self.backUrl=JSON.parse(e.url)),uni.setStorageSync("anchor_id_"+_api.default.appkey,_self.aid),_api.default.getMobileDid((function(e){_self.did=e,_self.initPlayer()})),uni.$on("getSubnvueParam",(function(data){if("livePlayerStatus"==data.type&&eval(data.data),"playerSetting"==data.type){var d=data.data.data;1==data.data.type?eval(d):_self.playerSetting=d}"roomSetting"==data.type&&(_self.setTing=data.data,_self.hideLiveSubNVue("live_setting"),_self.startPreview())}))},onReady:function(){0==_self.aid&&(_self.context=uni.createLivePusherContext("livePusher",_self))},onShow:function(){0!=_self.aid&&(_self.setLiveStatus(!0),uni.$emit("getSubnvueParam",{type:"toHeadBackFun",data:"_self.tryTimeDsq(1)"}))},onHide:function(){0!=_self.aid&&(_self.setLiveStatus(!1),uni.$emit("getSubnvueParam",{type:"toHeadBackFun",data:"_self.tryTimeDsq(0)"})),_self.isAnchorCover=!0},onUnload:function(){_self.closeConnectToServer()},onBackPress:function(e){return uni.$emit("getSubnvueParam",{type:"backList",data:_self.aid}),!0},methods:{loadedmetadata:function(e){_self.objectFit=e.detail.width>=e.detail.height?"contain":"fill"},setLiveStatus:function(e){_self.isShowPlaer=e},playLoad:function(){setTimeout((function(){_self.isAnchorCover=!1,_self.hideLiveSubNVue("live_loading")}),500)},initPlayer:function(){var e=uni.getStorageSync("server_ipUrl_"+_api.default.appkey);e&&(_self.server.ipUrl=e),0==_self.aid?_self.getAnchorData():_self.getClientData()},connectToServer:function(){0!=_self.server.ipUrl.length?((socketTask=uni.connectSocket({url:_self.server.ipUrl,fail:function(){_self.backList("\u8fde\u63a5\u6d88\u606f\u670d\u52a1\u5668\u5931\u8d252")}})).onOpen((function(e){is_open_socket=!0,socketTask.onMessage((function(e){var t=JSON.parse(e.data);switch(t.type){case"init":var a={type:"bid",data:{did:_self.did,time:5,id:_self.userId,isVip:_self.userInfo.isVip,username:_self.userInfo.username,headImg:_self.userInfo.headImg,isDisable:_self.userInfo.isDisable},web:0==_self.aid?_api.default.apiData.endLivePlayer:_api.default.apiData.logoutRoom,anchorId:_self.aid};_self.sendSocketTask(a);break;case"msg":if(t.anchorId==_self.aid||t.anchorId==_self.userId){if(1==t.data.type)var n="_self.addSysNotice("+JSON.stringify(t.data.content)+")";else n="_self.userSendMsg("+JSON.stringify(t.data)+")";uni.$emit("getSubnvueParam",{type:"backFun",data:n})}break;case"userLogout":t.anchorId!=_self.aid&&t.anchorId!=_self.userId||(__f__("log","out",t.data," at pages/live/player.nvue:262"),uni.$emit("getSubnvueParam",{type:"outUser",data:t.data}));break;case"giveGift":if(t.anchorId==_self.aid||t.anchorId==_self.userId){n="_self.userGiveGift("+JSON.stringify(t.data.item)+")";uni.$emit("getSubnvueParam",{type:"backFun",data:n}),uni.$emit("getSubnvueParam",{type:"giveGiftOrder",data:t.data.orderList})}break;case"endLive":t.anchorId==_self.aid&&(_self.isShowPlaer=!1,uni.showModal({content:"\u672c\u6b21\u76f4\u64ad\u5df2\u7ed3\u675f\uff0c\u4e0b\u671f\u4e0d\u89c1\u4e0d\u6563",showCancel:!1,confirmText:"\u786e\u5b9a\u8fd4\u56de",success:function(e){e.confirm&&_self.skipUrl("/pages/live/list","newx")}}));break;case"userFocus":var r={detail:{message:(t.data.isVip?"VIP":"")+"["+t.data.username+"]\u5173\u6ce8\u4e86\u60a8"}};_self.statechange(r);break;case"kickOutAnchor":n="_self.kickOutAnchor("+JSON.stringify(t)+")";uni.$emit("getSubnvueParam",{type:"backFun",data:n});break;case"login":t.anchorId!=_self.aid&&t.anchorId!=_self.userId||uni.$emit("getSubnvueParam",{type:"inUser",data:t.data});break;case"updateSendMsg":if(__f__("log",t," at pages/live/player.nvue:327"),t.anchorId==_self.aid&&_self.userInfo.id==t.uid){if(1==(a=t.data).type){var o="\u60a8\u5df2\u88ab\u4e3b\u64ad\u7981\u8a00";_self.userInfo.isDisable=!0,_self.sendText=o}else{o="\u4e3b\u64ad\u5df2\u89e3\u9664\u7981\u8a00";_self.userInfo.isDisable=!1,_self.sendText="\u64a9\u4e00\u64a9\uff1f"}_api.default.showToast(o,2e3)}break;case"kickedOut":uni.showToast({title:"\u60a8\u5df2\u88ab\u8e22\u51fa\u623f\u95f4",duration:1500,mask:!0,image:"/static/stop.png"}),t.anchorId==_self.aid&&_self.userInfo.id==t.uid&&_self.outRoom();break;default:t.anchorId!=_self.aid&&t.anchorId!=_self.userId||uni.$emit("getSubnvueParam",{type:t.type,data:t})}}))})),pingTime=setInterval((function(){is_open_socket||_self.backList("\u8fde\u63a5\u6d88\u606f\u670d\u52a1\u5668\u5931\u8d253"),_self.pongToServer()}),9e3)):_self.backList("\u8fde\u63a5\u6d88\u606f\u670d\u52a1\u5668\u5931\u8d251")},pongToServer:function(){_self.sendSocketTask({type:"pong"})},sendSocketTask:function(e){is_open_socket&&socketTask.send({data:JSON.stringify(e),success:function(){return(0,_asyncToGenerator2.default)(_regenerator.default.mark((function t(){return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:__f__("log",e," at pages/live/player.nvue:380");case 1:case"end":return t.stop()}}),t)})))()}})},closeConnectToServer:function(){socketTask.close({success:function(e){is_open_socket=!1,clearInterval(pingTime)}})},showLiveSubNVue:function(e){uni.getSubNVueById(e).show("slide-in-bottom",10)},hideLiveSubNVue:function(e){uni.getSubNVueById(e).hide("slide-in-bottom",10)},statechange:function(e){_self.lingText.push(e.detail.message),_self.lingText.reverse()},netstatus:function(e){},liveError:function(e){_api.default.showToast("\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u5173\u95edAPP\u91cd\u8bd5",2e3),__f__("log","error:"+JSON.stringify(e)," at pages/live/player.nvue:416")},start:function(){_self.setTing.playerName.length<1?(_self.showLiveSubNVue("live_setting"),_api.default.showToast("\u8bf7\u8bbe\u7f6e\u623f\u95f4\u4fe1\u606f",2e3)):_self.context.start({success:function(e){uni.$emit("getSubnvueParam",{type:"startPlayer",data:1}),0==_self.setTing.playerImg.length?setTimeout((function(){_self.snapshot((function(e){_self.uploadRoomImg(e)}))}),500):_self.uploadRoomImg(_self.setTing.playerImg)}})},pause:function(){_self.context.pause({success:function(e){uni.$emit("getSubnvueParam",{type:"startPlayer",data:2})}})},resume:function(){_self.context.resume({success:function(e){uni.$emit("getSubnvueParam",{type:"startPlayer",data:1})}})},snapshot:function(e){_self.context.snapshot({success:function(t){var a=t.message.tempImagePath.split("/"),n="_doc/snapshot/"+a[a.length-1];e(n)}})},stop:function(){_self.context.stop({success:function(e){uni.$emit("getSubnvueParam",{type:"startPlayer",data:0})}})},switchCamera:function(){_self.context.switchCamera({success:function(e){}})},startPreview:function(){_self.context.startPreview({success:function(e){}})},uploadRoomImg:function uploadRoomImg(img){var imgs=[{name:"imgs[0]",uri:img}],uper=uni.uploadFile({url:_api.default.apiData.roomUploadImg,files:imgs,formData:{uid:_self.userId,roomName:_self.setTing.playerName,roomGold:_self.setTing.playerGold,tryTime:_self.setTing.tryTime},success:function success(e){var d=eval("("+e.data+")");200==d.Code?(_self.playerImg=d.Data,0==_self.setTing.playerImg.length&&_self.snapshot((function(e){setTimeout((function(){_self.uploadRoomImg(e)}),6e4)}))):_self.backList(r.Msg)},fail:function(){_api.default.showToast("\u4e0a\u4f20\u5373\u65f6\u5c01\u9762\u5931\u8d25")}});uper.onProgressUpdate((function(e){}))},videoErrorCallback:function(){},getAnchorData:function(){uni.request({url:_api.default.apiData.liveInitData,method:"POST",data:{uid:_self.userId},header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){var t=e.data;if(200==t.Code){var a=t.Data;_self.startUrl=a.startUrl,a.id=_self.userId,a.playerTime=0;var n="_self.setMinTrytime("+a.minTryTime+")";uni.$emit("getSubnvueParam",{type:"liveSetting",data:n}),uni.$emit("getSubnvueParam",{type:"anchorToHead",data:a}),uni.$emit("getSubnvueParam",{type:"anchor",data:_self.userId}),_self.connectToServer()}else _api.default.showToast(t.Msg,3e3)},fail:function(){_self.backList("\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u6b63\u5e38")},complete:function(){_self.hideLiveSubNVue("live_loading"),_self.showLiveSubNVue("live_setting")}})},getClientData:function(){uni.request({url:_api.default.apiData.playerConfig,method:"POST",data:{uid:_self.userId,aid:_self.aid,sys:_self.phone.platform},header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){var t=e.data;if(200==t.Code){var a=t.Data;_self.playerUrl=a.anchorInfo.playerUrl,_self.anchorCover=a.anchorInfo.anchorCover,_self.userInfo=a.userInfo;var n={onlineNum:a.onlineNum.length,anchorInfo:a.anchorInfo,isFocus:a.isFocus,giftOrder:a.giftOrder,otherParam:{aid:_self.aid,uid:_self.userId},userInfo:_self.userInfo},r={giftList:a.giftList,userInfo:_self.userInfo,sysNotice:a.sysNotice},o="_self.getGiftList("+JSON.stringify(r)+")";uni.$emit("getSubnvueParam",{type:"backFun",data:o}),uni.$emit("getSubnvueParam",{type:"toHead",data:n}),uni.$emit("getSubnvueParam",{type:"anchorId",data:_self.aid}),setTimeout((function(){_self.sendSocketTask({type:"onlineList",anchorId:_self.aid,data:a.onlineNum})}),500),_self.connectToServer()}else _self.backList(t.Msg)},fail:function(){_self.backList("\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u6b63\u5e38")},complete:function(){}})},backList:function(e){_api.default.showToast(e,2e3),setTimeout((function(){_self.skipUrl(_self.backUrl.url,_self.backUrl.type),_self.isShowPlaer=!1}),1500)},skipUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/login/login",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"newx";_api.default.jumpUrl(e,t)}}};exports.default=_default}).call(this,__webpack_require__(16).default)},83:function(e,t){e.exports={"player-end":{justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)",width:"750rpx"},"live-text":{color:"#FFFFFF",fontSize:"10",height:"30rpx",lineHeight:"30rpx"},"live-ing":{position:"fixed",top:"75",right:"20rpx",height:"105rpx",backgroundColor:"rgba(0,0,0,0.3)",borderRadius:"20rpx",alignItems:"center",paddingTop:"10rpx",paddingRight:"10rpx",paddingBottom:"10rpx",paddingLeft:"10rpx"},livePusher:{width:"750rpx",position:"fixed",top:0,left:0},"player-video":{width:"750rpx",position:"fixed",top:0,left:0},content:{backgroundColor:"#000000"},"@VERSION":2}}});